<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Asagi by eksopl</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Asagi</h1>
        <h2>Asagi imageboard dumper</h2>
        <a href="https://github.com/eksopl/asagi" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>Asagi is a reimplementation of Fuuka's dumper side in Java. It allows you to dump and archive posts, images and all relevant data from imageboards into a local database and local image store (at the moment, only 4chan is supported).</p>

<p>To provide a frontend for said data (providing a web interface to use it as an archive is the usual reason to use a program like this to begin with), you'll have to use <a href="/eksopl/fuuka">fuuka</a> or even <a href="/FoOlRulez/FoOlFuuka">foolfuuka</a>. </p>

<p>The first goal was to reach feature parity with Fuuka's dumper. New features and enhancements are to follow next.</p>

<hr><p>Asagi is now mostly ready for public consumption. However, Asagi is storing image files and thumbnails according to a new directory configuration that doesn't save duplicates, so it's only currently compatible with foolfuuka, not vanilla fuuka, because fuuka's database schema is still behind. You can <a href="/eksopl/asagi/downloads">download release 0.2 here</a> (released Aug 30 2012).</p>

<hr><p>Its short term goals are to:</p>

<ul>
<li>Be efficient</li>
<li>Be resilient to network weirdness, bad data and other bad behavior</li>
<li>Be clearly written</li>
<li>Follow Fuuka's internal structure as much as possible</li>
</ul><p>Its long term goals are to eventually be:</p>

<ul>
<li>Extendable to other imageboards</li>
<li>Extendable to other means of data feeding (local rather than HTTP, for example)</li>
</ul><p>It uses:</p>

<ul>
<li>MySQL Connector/J to talk to MySQL</li>
<li>PostgreSQL JDBC Driver to talk to PostgreSQL</li>
<li>Apache HttpComponents to perform HTTP requests</li>
<li>Joda Time to be able to do anything with dates in Java without losing one's sanity</li>
<li>Gson to read the configuration file</li>
<li>Guava for small extras that are nice to have here and there</li>
<li>JNA to be able to perform chown/chmod/getgrnam on Unix platforms</li>
<li>Maven for dependency resolution and building</li>
</ul><h1>
<a name="faq" class="anchor" href="#faq"><span class="octicon octicon-link"></span></a>FAQ</h1>

<h3>
<a name="why-would-you-do-this" class="anchor" href="#why-would-you-do-this"><span class="octicon octicon-link"></span></a>Why would you do this?</h3>

<p>Fuuka's dumper is a bit too memory hungry. This was a result out of a frustrating afternoon trying to figure out how to make Fuuka's dumper use less memory. At the end, I was only able to shave off something like 10 MiB. This can be a pain for people that wish to run many dumpers at the same time. Also, while Perl is great for a lot of things, it's not the best choice when it comes to doing things with threads. And yes, I'm saying that I rewrote something in Java to save memory. Stop laughing.</p>

<h3>
<a name="no-seriously-why-java" class="anchor" href="#no-seriously-why-java"><span class="octicon octicon-link"></span></a>No seriously, why Java?</h3>

<p>I can write Java in cruise control mode without having to think too hard, so it made for an amusing passtime for a while. Plus, Java threads and concurrent data structures are adequate to what I needed.</p>

<h3>
<a name="json-for-the-configuration-file" class="anchor" href="#json-for-the-configuration-file"><span class="octicon octicon-link"></span></a>JSON for the configuration file?</h3>

<p>I just couldn't think of any good markup language for the configuration file. Amazing, isn't it?</p>

<ul>
<li>XML is the worst thing to happen to the world of software engineering, and if you think XML is good, then I don't want to have this discussion with you.</li>
<li>YAML, while well intended, is completely unusuable for configuration files due to its whitespace sensitivity. While you can specify a language with forced indentation of code and have programmers happy with it, you cannot reasonably expect a regular user that just wants to get software working to know (or care) about indentation, spaces vs tabs, etc.</li>
<li>Java property files are pretty simple. Unfortunatly, they're too simple -- they're restricted to latin1 and they don't support lists. Even if you try to get around those limitations by using Apache Commons Configuration, you still can't get lists inside lists, which I needed.</li>
<li>INI files, as with Java property files, actually have a reasonable format overall, but they have the same issue as property files. On top of that, their grammar and syntax isn't well defined by anything or anyone.</li>
<li>JSON is pretty okay. It falls short because its grammar is overly strict to be used in configuration files, in my opinion. Forgetting a comma will mean trouble, inserting an extra comma: likewise. Its huge gotcha is that it has no way of inserting comments, unacceptable for most configuration files.</li>
<li>I'm sure there's tons of really good markup languages out there, but unfortunatly, they're either not very popular (which means that it's going to be hard to find a module/library/extension/plugin to deal with it in pretty much every environment), or I just haven't heard of them.</li>
</ul><p>So out of all of those, even after weighing downsides, I ended up with JSON.</p>

<h3>
<a name="whats-with-the-name" class="anchor" href="#whats-with-the-name"><span class="octicon octicon-link"></span></a>What's with the name?</h3>

<p>Asagi is the eldest of the Ayase sisters. Fuuka is the middle sister. The Ayase family lives next door to Yotsuba. Get it?</p>

<h3>
<a name="i-have-a-question-not-listed-here" class="anchor" href="#i-have-a-question-not-listed-here"><span class="octicon octicon-link"></span></a>I have a question not listed here</h3>

<p>You can email eksopl at gmail with your question. If it's a bug, please use the <a href="/eksopl/asagi/issues">issue tracker</a> instead.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/eksopl/asagi/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/eksopl/asagi/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/eksopl/asagi"></a> is maintained by <a href="https://github.com/eksopl">eksopl</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>